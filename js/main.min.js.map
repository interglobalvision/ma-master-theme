{"version":3,"sources":["main.js"],"names":["l","data","console","log","lazyLoadImages","selector","$","each","$this","this","windowWidth","window","width","retina","largeImageThreshold","attr","largest","large","largestImageThreshold","basic","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","resizeImages","margin","windowHeight","outerHeight","captionHeight","css","padding-top","height","replaceCaption","currentSlide","caption","html","undefined","slickInit","on","init","currentSlideIndex","length","afterChange","event","slick","prevArrow","nextArrow","appendTo","Modernizr","highresdisplay","jQuery","document","ready","imagesLoaded","packery","itemSelector","columnWidth","gutter","transitionDuration","opacity"],"mappings":"AAGA,QAASA,GAAEC,GACT,YACAC,SAAQC,IAAIF,GAad,QAASG,gBAAeC,GACtBC,EAAED,GAAUE,KAAK,WACf,GAAIC,GAAQF,EAAEG,MACVR,EAAOO,EAAMP,OACbS,EAAcJ,EAAEK,QAAQC,OAExBC,QACEH,EAAmC,IAApBI,oBACjBN,EAAMO,KAAK,MAAOd,EAAKe,SAEvBR,EAAMO,KAAK,MAAOd,EAAKgB,OAEhBP,EAAcQ,sBACvBV,EAAMO,KAAK,MAAOd,EAAKe,SACdN,EAAcI,oBACvBN,EAAMO,KAAK,MAAOd,EAAKgB,OAEvBT,EAAMO,KAAK,MAAOd,EAAKkB,SAO7B,QAASC,UAASC,EAAMC,EAAMC,GAC5B,GAAIC,EACJ,OAAO,YACL,GAAIC,GAAUhB,KAAMiB,EAAOC,UACvBC,EAAQ,WACVJ,EAAU,KACLD,GAAWF,EAAKQ,MAAMJ,EAASC,IAElCI,EAAUP,IAAcC,CAC5BO,cAAaP,GACbA,EAAUQ,WAAWJ,EAAON,GACxBQ,GAAST,EAAKQ,MAAMJ,EAASC,IAMrC,QAASO,gBACP,GAAIC,GAAS,GACTC,EAAe7B,EAAEK,QAAQyB,cACzBC,EAAgB/B,EAAE,gBAAgB8B,aAEtC9B,GAAE,sBAAsBgC,IAAK,aAAiBH,EAAeE,EAAgBH,GAE7E5B,EAAE,uBAAuBgC,KACvBC,cAAeL,EACfM,OAAWL,EAAeE,IAI9B,QAASI,gBAAeC,GACtB,GAAIC,GAAUrC,EAAE,sBAAwBoC,EAAe,MAAM3B,KAAK,eAIhET,GAAE,yBAAyBsC,KAHvBD,GAAuBE,SAAZF,GAAqC,OAAZA,EAGRA,EAFA,KAMpC,QAASG,aACPxC,EAAE,uBAAuByC,IACvBC,KAAM,WACJ,GAAIC,GAAoB3C,EAAE,iBAAiBS,KAAK,mBAChD0B,gBAAeQ,GAGf3C,EAAE,iBAAiBsC,KAAKtC,EAAE,kBAAkB4C,OAAO,GAEnD9C,eAAe,eAEf6B,eAEA3B,EAAEG,MAAM6B,IAAK,UAAY,IAE3Ba,YAAa,SAASC,EAAOC,EAAOX,GAClCD,eAAeC,GAGfpC,EAAE,wBAAwBsC,KAAKF,EAAa,MAG/CW,OACCC,UAAW,mDACXC,UAAW,qDAGbjD,EAAE,uBAAuBkD,SAAS,gCAClClD,EAAE,uBAAuBkD,SAAS,gCAElClD,EAAE,kBAAkByC,GAAG,QAAS,WAC9BzC,EAAE,uBAAuB+C,MAAM,eAtGnC,GAAIxC,QAAS4C,UAAUC,eACrB5C,oBAAsB,IACtBI,sBAAwB,IAwG1ByC,QAAOC,UAAUC,MAAM,WACrB,YACA7D,GAAE,eAGGM,EAAE,yBAAyB4C,QAC9B5C,EAAE,yBAAyBwD,aAAc,WACvCxD,EAAE,yBAAyByD,SACzBC,aAAc,mBACdC,YAAa,EACbC,OAAQ,EACRC,mBAAoB,OACnB7B,KACD8B,QAAW,KAMIhD,UAAS,WAC5Ba,gBACC,GAEE3B,GAAE,kBAAkB4C,QACvBJ,YAGFxC,EAAEK,QAAQoC,GAAG,SAAU,WACrBd","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Modernizr */\n\nfunction l(data) {\n  'use strict';\n  console.log(data);\n}\n\n// VARS\n\nvar retina = Modernizr.highresdisplay,\n  largeImageThreshold = 800,\n  largestImageThreshold = 1400;\n\n// FUNCTIONS\n\n  // LAZY IMAGES\n\nfunction lazyLoadImages(selector) {\n  $(selector).each(function() {\n    var $this = $(this);\n    var data = $this.data();\n    var windowWidth = $(window).width();\n\n    if (retina) {\n      if (windowWidth > (largeImageThreshold*1.5)) {\n        $this.attr('src', data.largest);\n      } else {\n        $this.attr('src', data.large);\n      }\n    } else if (windowWidth > largestImageThreshold) {\n      $this.attr('src', data.largest);\n    } else if (windowWidth > largeImageThreshold) {\n      $this.attr('src', data.large);\n    } else {\n      $this.attr('src', data.basic);\n    }\n  });\n}\n\n  // RESIZE\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n  // SLICK\n\nfunction resizeImages() {\n  var margin = 35;\n  var windowHeight = $(window).outerHeight();\n  var captionHeight = $('.slider-text').outerHeight();\n\n  $('.js-slick-item img').css( 'max-height' , ( windowHeight - captionHeight - margin ) );\n\n  $('.js-slick-container').css({\n    'padding-top': margin,\n    'height': (windowHeight - captionHeight)\n  });\n}\n\nfunction replaceCaption(currentSlide) {\n  var caption = $('[data-slick-index=\"' + currentSlide + '\"]').attr('data-caption');\n  if (! caption || caption === undefined || caption === null) {\n    $('.slider-text .caption').html(' ');\n  } else {\n    $('.slider-text .caption').html(caption);\n  }\n}\n\nfunction slickInit() {\n  $('.js-slick-container').on({\n    init: function(event, slick){\n      var currentSlideIndex = $('.slick-active').attr('data-slick-index');\n      replaceCaption(currentSlideIndex);\n\n      // set length for n of * in captions\n      $('#slick-length').html($('.js-slick-item').length-2);\n\n      lazyLoadImages('.slider-img');\n\n      resizeImages();\n\n      $(this).css( 'opacity' , 1 );\n    },\n    afterChange: function(event, slick, currentSlide, nextSlide){\n      replaceCaption(currentSlide);\n\n      // set active index in human readable form\n      $('#slick-current-index').html(currentSlide+1);\n    }\n  })\n  .slick({\n    prevArrow: '<a class=\"slick-prev\" data-arrow=\"prev\">Prev</a>',\n    nextArrow: '<a class=\"slick-next\" data-arrow=\"next\">Next</a>',\n  });\n\n  $('[data-arrow=\"prev\"]').appendTo('.slider-text span.arrow-prev');\n  $('[data-arrow=\"next\"]').appendTo('.slider-text span.arrow-next');\n\n  $('.js-slick-item').on('click', function() {\n    $('.js-slick-container').slick('slickNext');\n  });\n}\n\njQuery(document).ready(function () {\n  'use strict';\n  l('Hola Globie');\n\n// PACKERY\n  if ( $('.js-packery-container').length ) {\n    $('.js-packery-container').imagesLoaded( function() {\n      $('.js-packery-container').packery({\n        itemSelector: '.js-packery-item',\n        columnWidth: 1,\n        gutter: 0,\n        transitionDuration: '0s',\n      }).css({\n        'opacity': 1\n      });\n    });\n  }\n\n// SLICK\n  var resizeFunction = debounce(function() {\n    resizeImages();\n  }, 30);\n\n  if ( $('.js-slick-item').length ) {\n    slickInit();\n  }\n\n  $(window).on('resize', function() {\n    resizeImages();\n  });\n\n});"],"sourceRoot":"/source/"}